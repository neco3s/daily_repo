
## 取り組んだ課題一覧

- :memo: 日記 :tomato:1
- :deciduous_tree:(evergreen) typing,Linux :tomato:1
- :stars:(catch the moment) RailsでECサイトを作る :tomato:4

## わかったこと

- シェルスクリプトを実行するには以下の方法があります。(①スクリプトのパスを指定して実行,②bash sample.sh,③source sample.sh)
- /文字列でvimで文字列を検索できる。２つ目の文字列に移りたい場合はnを押す
- 「Esc」とは「Escape」の略で、「回避」や「脱出」などという意味を持っている
- トランザクション(処理が中断されないように、他の人の処理が割り込めないように)
- トランザクションに含まれるSQLは必ず、全て実行 or １つも実行しない のどちらかの状態になる(原子性,これ以上細かく分割できない)
- 全て実行したことにする=コミット、1つも実行してないことにする=ロールバック
- 多くのツールDBMSではデフォルトで自動コミットモード、１つのSQL文が実行されるたびに、自動的に裏でコミットを実行している。解除方法`SET AUTOCOMMIT=0`それぞれのDBMSに依存する。
- ダーティーリード、まだコミットされていない未確定の変更を他の人が読めてしまう副作用
- 反復不能読み取り、SELECT->UPDATE->SELECT(１回目のSELECTと内容が異なるので１回目の処理に依存する集計とかだと困る)
- ファントムリード、SELECT->INSERT->SELECT(１回目のSELECTと取得する行数が異なる、１回目の検索結果の行数に依存する処理を行う場合に問題になる)
- トランザクションの分離(分離性)、DBMSが現在読み書きしている行に鍵をかけ(ロック)ほかの人のトランザクションから読み書きできないようにする。コミットかロールバックで読み書きが終了すると鍵が解除されほかの人のトランザクションがその行を読み書きできるようになる
- トランザクション分離レベルで 性能 と 分離 のバランスを選ぶことができる
- DBMSでは、あるトランザクションによってデータが書き換えられている最中も書き換え前の情報が残っており、ほかのトランザクションから利用可能=>つまりロックをかけずともダーティーリードは起こらない。このようにあるデータについて「書き換え済み(ただし未確定)」と「書き換え前」の２つのバージョンを併存させることをMVCC(multi-version concurrency control)と言います。
- 行ロック、表ロック、データベースロック
- 排他ロック(exclusive lock)、他からのロックを一切許可しない、データ更新時に利用される
- 共有ロック(shared lock)、他からの共有ロックを許す特性、データの読み取り時に利用される
- あるテーブルについて多数の行にロックがかけられると１つの表のロックに自動的に切り替わる(ロックエスカレーション)、デッドロックの原因になったり同時に実行できるトランザクション数が減って遅くなったり、DBMSの負荷が下がり性能が向上したり、いい面と悪い面があるのでうまく活用すること
- デッドロック、トランザクションの処理が永久に止まってしまう。対処法①トランザクションの時間を短く、②同じ順番でロックするようにする
- 今まではオンプレミス(自前でサーバー設置DBMSインストール環境構築)だったがクラウドがデータベース(Web画面から設定することで数分後には利用可能)も選択肢に現れている。
- 2フェーズコミットで複数のデータベースに跨ったトランザクションの整合性を維持できる
- JOINを使わない結合 FROM tableA, tableB みたいな記述もあるがどちらが主表なのか分かりずらい、結合条件もWHEREに書くため分かりづらい、ので使い方には注意すること

## 次やること

- :deciduous_tree:(evergreen) typing,Linux,SQL,English,LeetCode, :tomato:1
- :memo:(mind) 日記(昨日の振り返り、今日取り組むこと、昨日を踏まえて、今日はどんな気持ちで過ごしたいか言葉にする) :tomato:1

- Railsチュートリアル7版(Ruby on Rails5速習実践ガイドの代わり) 8:tomato: (13)
- RailsでECサイトを作る 51:tomato:
- Rails課題をやる(twitter clone) 120:tomato:
- テスト技法について学ぶ 10:tomato:
- Everyday Rails - RSpecによるRailsテスト入門 21:tomato:
- 自動テスト 15:tomato:
- 米国AI開発者がゼロから教えるDocker講座(CI/CD) | Udemy 20:tomato:
- :compass: 自作サービス作成までに何をやって何をやらないのかを明確にする 3~5:tomato:

- 達人に学ぶDB設計 徹底指南書を読む、記事作成、URL提出 16:tomato:
- twitterER図のブラッシュアップ

## 感じたこと

- dockerコンテナ2〜４つ起動した状態でvsCode２つ開いて作業するのは今のパソコンのスペック的に少し負荷がかかりすぎていると感じた
- チェリー本の著者に記事紹介してもらって嬉しかった

## 学習時間

- Today：1h
- Total：234h
